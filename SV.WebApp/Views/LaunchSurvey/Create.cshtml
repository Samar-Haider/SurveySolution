@model Survey
@{
    ViewData["Title"] = "Launch Survey";
    List<Survey> surveys = ViewBag.surveys as List<Survey>;
    
    if(surveys is null)
    {
        surveys = new List<Survey>();
    }
}

<div class="box">
    <div class="header">
        <h4>Launch Survey</h4>
    </div>
    <div class="content">
                        
        @if (surveys.Count > 0)
        {
            <form class="form-horizontal margin-reset" method="post" asp-action="Create">
                
                <div class="rowelement">
                    <div class="span3">
                        Choose Survey:
                    </div>
                    <div class="span5">
                        <select asp-for=Id>
                            @foreach (var survey in surveys)
                            {
                                <option value="@survey.Id">@survey.Name</option>
                            }
                        </select>
                    </div>
                    <div class="clear"></div>
                </div>

                <div class="separator"></div>

                <div class="rowelement">
                    <div class="span3">
                        Start Date
                    </div>
                    <div class="span5">
                        <input type="datetime-local" asp-for=StartDate  class="input-xlarge" />
                        <p class="help-block">Hint: Start date is the time for the survey to start.</p>
                    </div>
                    <div class="clear"></div>
                </div>

                <div class="rowelement">
                    <div class="span3">
                        End Date
                    </div>
                    <div class="span5">
                        <input type="datetime-local" asp-for=EndDate class="input-xlarge" />
                        <p class="help-block">Hint: End date is the time for the survey to end.</p>
                    </div>
                    <div class="clear"></div>
                </div>

                <div class="form-actions">
                    <div class="pull-right">
                        <button type="submit" class="btn btn-success pull-right">Launch Survey</button>
                    </div>
                </div>

            </form>
        }
        else
        {
            <p style="padding: 20px;">No surveys ready to be launched. Try adding some questions to the surveys and organize it to publish.</p>
        }
    </div>
 </div>

